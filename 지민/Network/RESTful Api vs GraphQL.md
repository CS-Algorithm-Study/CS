## RESTful API vs GraphQL

</br>

<img src="https://github.com/CS-Algorithm-Study/CS/assets/77067383/752e97f0-d75f-4d20-9860-862866241a87" width="80%">

</br>

- REST API와 GraphQL은 모두 API 구조를 설계하고 데이터를 처리하기 위한 방식

1. REST API
- HTTP 메서드(GET, POST 등)을 사용해 API를 구축하기 위한 아키텍처 스타일
- 일반적으로 URL을 통해 사용자가 요청한 주소를 식별하고 JSON의 형태로 데이터를 반환함
- 클라이언트에서 서버로 각 요청을 보낼 때 필요한 모든 정보 포함

2. GraphQL
- 페이스북이 개발한 API용 쿼리 언어
- 클라이언트가 정확히 필요한 데이터를 명시해 요청하고, 서버는 요청된 특정 데이터만을 응답하는 방식
- 보다 효율적인 데이터 송수신이 가능하게 만든다는 장점

### REST API 장점

1. 개발자 친화적이며 단순함
2. 캐싱 지원
    - 캐싱을 지원하므로 서버에 대한 요청 수를 줄임으로써 API의 성능을 향상시킬 수 있다.
3. 풍부한 라이브러리
4. 호환성
5. 리소스 지향적
    - 각 리로스는 고유 식별자(URI)를 사지고 있으며 표준 HTTP 메서드(GET, POST, PUT, DELETE)를 사용하여 조작할 수 있다.
    - API 구조를 이해하고 API와 상호작용 할 수 있는 클라이언트 구축이 쉬어짐

### GraphQL 장점

1. 효율성 향상
    - 클라이언트가 필요한 데이터를 정확히 지정할 수 있으므로 네트워크를 통해 전송되는 데이터의 양이 줄고 API 효율성을 높일 수 있다.
2. 유연한 쿼리
    - 클라이언트 측에서 여러 리소스와의 관계를 포함하는 복잡한 쿼리를 만들 수도 있으며, 쿼리 중첩을 통해 계층적 방식으로 데이터를 검색할 수도 있다.
3. 버전 관리
    - 예를 들면 버전이 1.0에서 2.0으로 올라간 경우 기존 1.0 서버를 중단하지 않고 간단하게 스키마만 변경하여 이를 구현할 수 있다.
    - 이전 버전과의 호환성을 유지하면서도 API를 변경할 수 있다.
4. 개발자 경험
    - 클라이언트 측의 개발자가 편하게 일할 수 있다.
    - 백엔드 측과 URL을 맞춰서 작업을 진행해야 하는 번거로움을 없앨 수 있다.

</br>

<img src="https://github.com/CS-Algorithm-Study/CS/assets/77067383/ce7c0531-1080-4e43-9750-b032e9a5dade" width="80%">

</br>

### 어떤 경우에 사용해야하는가?
- 두 가지 모두 장단점이 명확하다. RESTful API의 경우 모든 엔드포인트를 개발하고 여러 경우의 수를 대응해야하기에 개발 속도가 상대적으로 느리고, GraphQL의 경우 원칙적으로 Multipart 방식의 전송이 허용되지 않기에 이미지, 영상 등의 처리에 굉장히 취약하다.
- RESTful API
    - HTTP 와 HTTPs 에 의한 Caching을 잘 사용하고 싶을 경우
    - Multipart 방식의 전송이 필요한 경우 (이미지, 영상, 파일 등)
    - 요청의 구조가 정해진 경우
- GraphQL
    - 서로 다른 모양의 다양한 요청들에 대해 응답해야 하는 경우
    - 대부분의 요청이 CRUD인 경우 (Multipart 방식의 전송이 필요없는 경우)

- 참고
    - https://americanopeople.tistory.com/330
    - https://velog.io/@sjy0917/API-RESTful-vs-GraphQL
